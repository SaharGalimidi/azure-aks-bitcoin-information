[0m[1mdata.azurerm_client_config.current: Reading...[0m[0m
[0m[1mdata.azurerm_client_config.current: Read complete after 0s [id=Y2xpZW50Q29uZmlncy9jbGllbnRJZD0wNGIwNzc5NS04ZGRiLTQ2MWEtYmJlZS0wMmY5ZTFiZjdiNDY7b2JqZWN0SWQ9ZjgyODVhOWMtMjlmZS00MjY1LTlmNmMtNmRjY2QyN2Y3ODk4O3N1YnNjcmlwdGlvbklkPTBmMzFjMTViLThiMTctNDI4YS04YjU2LTdhOTAyYTJlYzJkNzt0ZW5hbnRJZD1kNTYxZDVhZC1lYjJjLTQ3NzQtOTM5Yi0xZWFhOTk4ZmZkY2M=][0m

Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  [32m+[0m create[0m

Terraform will perform the following actions:

[1m  # azurerm_container_registry.bitcoin_registry[0m will be created
[0m  [32m+[0m[0m resource "azurerm_container_registry" "bitcoin_registry" {
      [32m+[0m[0m admin_enabled                 = false
      [32m+[0m[0m admin_password                = (sensitive value)
      [32m+[0m[0m admin_username                = (known after apply)
      [32m+[0m[0m encryption                    = (known after apply)
      [32m+[0m[0m export_policy_enabled         = true
      [32m+[0m[0m id                            = (known after apply)
      [32m+[0m[0m location                      = "eastus"
      [32m+[0m[0m login_server                  = (known after apply)
      [32m+[0m[0m name                          = "bitcoinRegistry"
      [32m+[0m[0m network_rule_bypass_option    = "AzureServices"
      [32m+[0m[0m network_rule_set              = (known after apply)
      [32m+[0m[0m public_network_access_enabled = true
      [32m+[0m[0m resource_group_name           = "aks-bitcoin-rg"
      [32m+[0m[0m retention_policy              = (known after apply)
      [32m+[0m[0m sku                           = "Basic"
      [32m+[0m[0m trust_policy                  = (known after apply)
      [32m+[0m[0m zone_redundancy_enabled       = false
    }

[1m  # azurerm_role_assignment.acr_pull[0m will be created
[0m  [32m+[0m[0m resource "azurerm_role_assignment" "acr_pull" {
      [32m+[0m[0m id                               = (known after apply)
      [32m+[0m[0m name                             = (known after apply)
      [32m+[0m[0m principal_id                     = "f8285a9c-29fe-4265-9f6c-6dccd27f7898"
      [32m+[0m[0m principal_type                   = (known after apply)
      [32m+[0m[0m role_definition_id               = (known after apply)
      [32m+[0m[0m role_definition_name             = "AcrPull"
      [32m+[0m[0m scope                            = (known after apply)
      [32m+[0m[0m skip_service_principal_aad_check = (known after apply)
    }

[1m  # azurerm_role_assignment.aks_cluster_admin[0m will be created
[0m  [32m+[0m[0m resource "azurerm_role_assignment" "aks_cluster_admin" {
      [32m+[0m[0m id                               = (known after apply)
      [32m+[0m[0m name                             = (known after apply)
      [32m+[0m[0m principal_id                     = "f8285a9c-29fe-4265-9f6c-6dccd27f7898"
      [32m+[0m[0m principal_type                   = (known after apply)
      [32m+[0m[0m role_definition_id               = (known after apply)
      [32m+[0m[0m role_definition_name             = "Azure Kubernetes Service RBAC Cluster Admin"
      [32m+[0m[0m scope                            = (known after apply)
      [32m+[0m[0m skip_service_principal_aad_check = (known after apply)
    }

[1m  # azurerm_role_assignment.aks_pull_acr[0m will be created
[0m  [32m+[0m[0m resource "azurerm_role_assignment" "aks_pull_acr" {
      [32m+[0m[0m id                               = (known after apply)
      [32m+[0m[0m name                             = (known after apply)
      [32m+[0m[0m principal_id                     = (known after apply)
      [32m+[0m[0m principal_type                   = (known after apply)
      [32m+[0m[0m role_definition_id               = (known after apply)
      [32m+[0m[0m role_definition_name             = "AcrPull"
      [32m+[0m[0m scope                            = (known after apply)
      [32m+[0m[0m skip_service_principal_aad_check = (known after apply)
    }

[1m  # azurerm_role_assignment.regestry_contributor[0m will be created
[0m  [32m+[0m[0m resource "azurerm_role_assignment" "regestry_contributor" {
      [32m+[0m[0m id                               = (known after apply)
      [32m+[0m[0m name                             = (known after apply)
      [32m+[0m[0m principal_id                     = "f8285a9c-29fe-4265-9f6c-6dccd27f7898"
      [32m+[0m[0m principal_type                   = (known after apply)
      [32m+[0m[0m role_definition_id               = (known after apply)
      [32m+[0m[0m role_definition_name             = "Contributor"
      [32m+[0m[0m scope                            = (known after apply)
      [32m+[0m[0m skip_service_principal_aad_check = (known after apply)
    }

[1m  # null_resource.aks_acr_attachment[0m will be created
[0m  [32m+[0m[0m resource "null_resource" "aks_acr_attachment" {
      [32m+[0m[0m id = (known after apply)
    }

[1m  # module.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks[0m will be created
[0m  [32m+[0m[0m resource "azurerm_kubernetes_cluster" "bitcoin-aks" {
      [32m+[0m[0m api_server_authorized_ip_ranges     = (known after apply)
      [32m+[0m[0m dns_prefix                          = "aks-bitcoin-dns"
      [32m+[0m[0m fqdn                                = (known after apply)
      [32m+[0m[0m http_application_routing_zone_name  = (known after apply)
      [32m+[0m[0m id                                  = (known after apply)
      [32m+[0m[0m image_cleaner_enabled               = false
      [32m+[0m[0m image_cleaner_interval_hours        = 48
      [32m+[0m[0m kube_admin_config                   = (sensitive value)
      [32m+[0m[0m kube_admin_config_raw               = (sensitive value)
      [32m+[0m[0m kube_config                         = (sensitive value)
      [32m+[0m[0m kube_config_raw                     = (sensitive value)
      [32m+[0m[0m kubernetes_version                  = (known after apply)
      [32m+[0m[0m location                            = "eastus"
      [32m+[0m[0m name                                = "aks-bitcoin-cluster"
      [32m+[0m[0m node_resource_group                 = (known after apply)
      [32m+[0m[0m node_resource_group_id              = (known after apply)
      [32m+[0m[0m oidc_issuer_url                     = (known after apply)
      [32m+[0m[0m portal_fqdn                         = (known after apply)
      [32m+[0m[0m private_cluster_enabled             = false
      [32m+[0m[0m private_cluster_public_fqdn_enabled = false
      [32m+[0m[0m private_dns_zone_id                 = (known after apply)
      [32m+[0m[0m private_fqdn                        = (known after apply)
      [32m+[0m[0m public_network_access_enabled       = true
      [32m+[0m[0m resource_group_name                 = "aks-bitcoin-rg"
      [32m+[0m[0m role_based_access_control_enabled   = true
      [32m+[0m[0m run_command_enabled                 = true
      [32m+[0m[0m sku_tier                            = "Free"
      [32m+[0m[0m workload_identity_enabled           = false

      [32m+[0m[0m azure_active_directory_role_based_access_control {
          [32m+[0m[0m azure_rbac_enabled = true
          [32m+[0m[0m managed            = true
          [32m+[0m[0m tenant_id          = (known after apply)
        }

      [32m+[0m[0m default_node_pool {
          [32m+[0m[0m kubelet_disk_type    = (known after apply)
          [32m+[0m[0m max_pods             = (known after apply)
          [32m+[0m[0m name                 = "default"
          [32m+[0m[0m node_count           = 1
          [32m+[0m[0m node_labels          = (known after apply)
          [32m+[0m[0m orchestrator_version = (known after apply)
          [32m+[0m[0m os_disk_size_gb      = (known after apply)
          [32m+[0m[0m os_disk_type         = "Managed"
          [32m+[0m[0m os_sku               = (known after apply)
          [32m+[0m[0m scale_down_mode      = "Delete"
          [32m+[0m[0m type                 = "VirtualMachineScaleSets"
          [32m+[0m[0m ultra_ssd_enabled    = false
          [32m+[0m[0m vm_size              = "Standard_B2s"
          [32m+[0m[0m workload_runtime     = (known after apply)
        }

      [32m+[0m[0m identity {
          [32m+[0m[0m principal_id = (known after apply)
          [32m+[0m[0m tenant_id    = (known after apply)
          [32m+[0m[0m type         = "SystemAssigned"
        }
    }

[1m  # module.bitcoin-aks.azurerm_resource_group.bitcoin-rg[0m will be created
[0m  [32m+[0m[0m resource "azurerm_resource_group" "bitcoin-rg" {
      [32m+[0m[0m id       = (known after apply)
      [32m+[0m[0m location = "eastus"
      [32m+[0m[0m name     = "aks-bitcoin-rg"
    }

[1m  # module.bitcoin-aks.azurerm_role_assignment.aks_cluster_admin[0m will be created
[0m  [32m+[0m[0m resource "azurerm_role_assignment" "aks_cluster_admin" {
      [32m+[0m[0m id                               = (known after apply)
      [32m+[0m[0m name                             = (known after apply)
      [32m+[0m[0m principal_id                     = (known after apply)
      [32m+[0m[0m principal_type                   = (known after apply)
      [32m+[0m[0m role_definition_id               = (known after apply)
      [32m+[0m[0m role_definition_name             = "Azure Kubernetes Service RBAC Cluster Admin"
      [32m+[0m[0m scope                            = (known after apply)
      [32m+[0m[0m skip_service_principal_aad_check = (known after apply)
    }

[1m  # module.bitcoin-aks.azurerm_role_assignment.aks_pull_acr[0m will be created
[0m  [32m+[0m[0m resource "azurerm_role_assignment" "aks_pull_acr" {
      [32m+[0m[0m id                               = (known after apply)
      [32m+[0m[0m name                             = (known after apply)
      [32m+[0m[0m principal_id                     = (known after apply)
      [32m+[0m[0m principal_type                   = (known after apply)
      [32m+[0m[0m role_definition_id               = (known after apply)
      [32m+[0m[0m role_definition_name             = "AcrPull"
      [32m+[0m[0m scope                            = (known after apply)
      [32m+[0m[0m skip_service_principal_aad_check = (known after apply)
    }

[1m  # module.bitcoin-aks.azurerm_role_assignment.aks_rbac_admin[0m will be created
[0m  [32m+[0m[0m resource "azurerm_role_assignment" "aks_rbac_admin" {
      [32m+[0m[0m id                               = (known after apply)
      [32m+[0m[0m name                             = (known after apply)
      [32m+[0m[0m principal_id                     = (known after apply)
      [32m+[0m[0m principal_type                   = (known after apply)
      [32m+[0m[0m role_definition_id               = (known after apply)
      [32m+[0m[0m role_definition_name             = "Azure Kubernetes Service RBAC Admin"
      [32m+[0m[0m scope                            = (known after apply)
      [32m+[0m[0m skip_service_principal_aad_check = (known after apply)
    }

[1mPlan:[0m 11 to add, 0 to change, 0 to destroy.
[0m
Changes to Outputs:
  [32m+[0m[0m acr_login_server    = (known after apply)
  [32m+[0m[0m acr_name            = "bitcoinRegistry"
  [32m+[0m[0m aks_cluster_id      = (known after apply)
  [32m+[0m[0m aks_cluster_name    = "aks-bitcoin-cluster"
  [32m+[0m[0m location            = "eastus"
  [32m+[0m[0m resource_group_id   = (known after apply)
  [32m+[0m[0m resource_group_name = "aks-bitcoin-rg"
[0m[1mmodule.bitcoin-aks.azurerm_resource_group.bitcoin-rg: Creating...[0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_resource_group.bitcoin-rg: Creation complete after 2s [id=/subscriptions/0f31c15b-8b17-428a-8b56-7a902a2ec2d7/resourceGroups/aks-bitcoin-rg][0m
[0m[1mazurerm_container_registry.bitcoin_registry: Creating...[0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Creating...[0m[0m
[0m[1mazurerm_container_registry.bitcoin_registry: Still creating... [10s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Still creating... [10s elapsed][0m[0m
[0m[1mazurerm_container_registry.bitcoin_registry: Still creating... [20s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Still creating... [20s elapsed][0m[0m
[0m[1mazurerm_container_registry.bitcoin_registry: Creation complete after 24s [id=/subscriptions/0f31c15b-8b17-428a-8b56-7a902a2ec2d7/resourceGroups/aks-bitcoin-rg/providers/Microsoft.ContainerRegistry/registries/bitcoinRegistry][0m
[0m[1mazurerm_role_assignment.acr_pull: Creating...[0m[0m
[0m[1mazurerm_role_assignment.regestry_contributor: Creating...[0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Still creating... [30s elapsed][0m[0m
[0m[1mazurerm_role_assignment.acr_pull: Still creating... [10s elapsed][0m[0m
[0m[1mazurerm_role_assignment.regestry_contributor: Still creating... [10s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Still creating... [40s elapsed][0m[0m
[0m[1mazurerm_role_assignment.acr_pull: Still creating... [20s elapsed][0m[0m
[0m[1mazurerm_role_assignment.regestry_contributor: Still creating... [20s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Still creating... [50s elapsed][0m[0m
[0m[1mazurerm_role_assignment.acr_pull: Creation complete after 28s [id=/subscriptions/0f31c15b-8b17-428a-8b56-7a902a2ec2d7/resourceGroups/aks-bitcoin-rg/providers/Microsoft.ContainerRegistry/registries/bitcoinRegistry/providers/Microsoft.Authorization/roleAssignments/de3844f6-824c-fb43-628f-b9e2e6147ef5][0m
[0m[1mazurerm_role_assignment.regestry_contributor: Creation complete after 29s [id=/subscriptions/0f31c15b-8b17-428a-8b56-7a902a2ec2d7/resourceGroups/aks-bitcoin-rg/providers/Microsoft.ContainerRegistry/registries/bitcoinRegistry/providers/Microsoft.Authorization/roleAssignments/299db5a4-4366-afd0-0455-5a9dd41e85e8][0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Still creating... [1m0s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Still creating... [1m10s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Still creating... [1m20s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Still creating... [1m30s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Still creating... [1m40s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Still creating... [1m50s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Still creating... [2m0s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Still creating... [2m10s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Still creating... [2m20s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Still creating... [2m30s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Still creating... [2m40s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Still creating... [2m50s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Still creating... [3m0s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Still creating... [3m10s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Still creating... [3m20s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Still creating... [3m30s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Still creating... [3m40s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Still creating... [3m50s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Still creating... [4m0s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Still creating... [4m10s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Still creating... [4m20s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_kubernetes_cluster.bitcoin-aks: Creation complete after 4m22s [id=/subscriptions/0f31c15b-8b17-428a-8b56-7a902a2ec2d7/resourceGroups/aks-bitcoin-rg/providers/Microsoft.ContainerService/managedClusters/aks-bitcoin-cluster][0m
[0m[1mazurerm_role_assignment.aks_pull_acr: Creating...[0m[0m
[0m[1mazurerm_role_assignment.aks_cluster_admin: Creating...[0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_role_assignment.aks_pull_acr: Creating...[0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_role_assignment.aks_cluster_admin: Creating...[0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_role_assignment.aks_rbac_admin: Creating...[0m[0m
[0m[1mazurerm_role_assignment.aks_cluster_admin: Still creating... [10s elapsed][0m[0m
[0m[1mazurerm_role_assignment.aks_pull_acr: Still creating... [10s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_role_assignment.aks_pull_acr: Still creating... [10s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_role_assignment.aks_rbac_admin: Still creating... [10s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_role_assignment.aks_cluster_admin: Still creating... [10s elapsed][0m[0m
[0m[1mazurerm_role_assignment.aks_cluster_admin: Still creating... [20s elapsed][0m[0m
[0m[1mazurerm_role_assignment.aks_pull_acr: Still creating... [20s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_role_assignment.aks_pull_acr: Still creating... [20s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_role_assignment.aks_rbac_admin: Still creating... [20s elapsed][0m[0m
[0m[1mmodule.bitcoin-aks.azurerm_role_assignment.aks_cluster_admin: Still creating... [20s elapsed][0m[0m
[0m[1mazurerm_role_assignment.aks_pull_acr: Creation complete after 28s [id=/subscriptions/0f31c15b-8b17-428a-8b56-7a902a2ec2d7/resourceGroups/aks-bitcoin-rg/providers/Microsoft.ContainerRegistry/registries/bitcoinRegistry/providers/Microsoft.Authorization/roleAssignments/c6477a73-be4e-2540-3590-8c996ad5b6a8][0m
[0m[1mmodule.bitcoin-aks.azurerm_role_assignment.aks_cluster_admin: Creation complete after 28s [id=/subscriptions/0f31c15b-8b17-428a-8b56-7a902a2ec2d7/resourceGroups/aks-bitcoin-rg/providers/Microsoft.ContainerService/managedClusters/aks-bitcoin-cluster/providers/Microsoft.Authorization/roleAssignments/1da0b678-5881-448f-5b9b-7ba8b855e813][0m
[0m[1mazurerm_role_assignment.aks_cluster_admin: Creation complete after 29s [id=/subscriptions/0f31c15b-8b17-428a-8b56-7a902a2ec2d7/resourceGroups/aks-bitcoin-rg/providers/Microsoft.ContainerService/managedClusters/aks-bitcoin-cluster/providers/Microsoft.Authorization/roleAssignments/0ddf7908-d6e6-196f-ab3d-93329578759e][0m
[0m[1mmodule.bitcoin-aks.azurerm_role_assignment.aks_pull_acr: Creation complete after 29s [id=/subscriptions/0f31c15b-8b17-428a-8b56-7a902a2ec2d7/resourceGroups/aks-bitcoin-rg/providers/Microsoft.ContainerService/managedClusters/aks-bitcoin-cluster/providers/Microsoft.Authorization/roleAssignments/4ab6aa3c-8753-2206-2979-b2d9e8768c0d][0m
[0m[1mmodule.bitcoin-aks.azurerm_role_assignment.aks_rbac_admin: Creation complete after 30s [id=/subscriptions/0f31c15b-8b17-428a-8b56-7a902a2ec2d7/resourceGroups/aks-bitcoin-rg/providers/Microsoft.ContainerService/managedClusters/aks-bitcoin-cluster/providers/Microsoft.Authorization/roleAssignments/b2fcaba4-b2ce-1b9f-d038-bc313eee0b03][0m
[0m[1mnull_resource.aks_acr_attachment: Creating...[0m[0m
[0m[1mnull_resource.aks_acr_attachment: Provisioning with 'local-exec'...[0m[0m
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0mExecuting: ["cmd" "/C" "az aks update -n aks-bitcoin-cluster -g aks-bitcoin-rg --attach-acr bitcoinRegistry"]
[0m[1mnull_resource.aks_acr_attachment: Still creating... [10s elapsed][0m[0m
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0mAAD role propagation done[############################################]  100.0000%
[0m[1mnull_resource.aks_acr_attachment: Still creating... [20s elapsed][0m[0m
[0m[1mnull_resource.aks_acr_attachment: Still creating... [30s elapsed][0m[0m
[0m[1mnull_resource.aks_acr_attachment: Still creating... [40s elapsed][0m[0m
[0m[1mnull_resource.aks_acr_attachment: Still creating... [50s elapsed][0m[0m
[0m[1mnull_resource.aks_acr_attachment: Still creating... [1m0s elapsed][0m[0m
[0m[1mnull_resource.aks_acr_attachment: Still creating... [1m10s elapsed][0m[0m
[0m[1mnull_resource.aks_acr_attachment: Still creating... [1m20s elapsed][0m[0m
[0m[1mnull_resource.aks_acr_attachment: Still creating... [1m30s elapsed][0m[0m
[0m[1mnull_resource.aks_acr_attachment: Still creating... [1m40s elapsed][0m[0m
[0m[1mnull_resource.aks_acr_attachment: Still creating... [1m50s elapsed][0m[0m
[0m[1mnull_resource.aks_acr_attachment: Still creating... [2m0s elapsed][0m[0m
[0m[1mnull_resource.aks_acr_attachment: Still creating... [2m10s elapsed][0m[0m
[0m[1mnull_resource.aks_acr_attachment: Still creating... [2m20s elapsed][0m[0m
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0mAAD role propagation done[############################################]  100.0000%
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m{
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "aadProfile": {
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "adminGroupObjectIDs": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "adminUsers": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "clientAppId": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "enableAzureRbac": true,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "managed": true,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "serverAppId": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "serverAppSecret": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "tenantId": "d561d5ad-eb2c-4774-939b-1eaa998ffdcc"
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  },
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "addonProfiles": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "agentPoolProfiles": [
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    {
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "availabilityZones": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "capacityReservationGroupId": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "count": 1,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "creationData": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "currentOrchestratorVersion": "1.27.7",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "enableAutoScaling": false,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "enableEncryptionAtHost": false,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "enableFips": false,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "enableNodePublicIp": false,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "enableUltraSsd": false,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "gpuInstanceProfile": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "hostGroupId": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "kubeletConfig": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "kubeletDiskType": "OS",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "linuxOsConfig": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "maxCount": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "maxPods": 110,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "minCount": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "mode": "System",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "name": "default",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "networkProfile": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "nodeImageVersion": "AKSUbuntu-2204gen2containerd-202401.09.0",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "nodeLabels": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "nodePublicIpPrefixId": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "nodeTaints": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "orchestratorVersion": "1.27.7",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "osDiskSizeGb": 128,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "osDiskType": "Managed",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "osSku": "Ubuntu",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "osType": "Linux",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "podSubnetId": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "powerState": {
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m        "code": "Running"
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      },
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "provisioningState": "Succeeded",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "proximityPlacementGroupId": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "scaleDownMode": "Delete",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "scaleSetEvictionPolicy": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "scaleSetPriority": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "spotMaxPrice": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "tags": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "type": "VirtualMachineScaleSets",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "upgradeSettings": {
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m        "drainTimeoutInMinutes": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m        "maxSurge": null
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      },
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "vmSize": "Standard_B2s",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "vnetSubnetId": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "workloadRuntime": null
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    }
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  ],
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "apiServerAccessProfile": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "autoScalerProfile": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "autoUpgradeProfile": {
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "nodeOsUpgradeChannel": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "upgradeChannel": "none"
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  },
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "azureMonitorProfile": {
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "metrics": {
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "enabled": false,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "kubeStateMetrics": null
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    }
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  },
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "azurePortalFqdn": "aks-bitcoin-dns-3udjlkd2.portal.hcp.eastus.azmk8s.io",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "currentKubernetesVersion": "1.27.7",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "disableLocalAccounts": false,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "diskEncryptionSetId": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "dnsPrefix": "aks-bitcoin-dns",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "enablePodSecurityPolicy": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "enableRbac": true,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "extendedLocation": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "fqdn": "aks-bitcoin-dns-3udjlkd2.hcp.eastus.azmk8s.io",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "fqdnSubdomain": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "httpProxyConfig": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "id": "/subscriptions/0f31c15b-8b17-428a-8b56-7a902a2ec2d7/resourcegroups/aks-bitcoin-rg/providers/Microsoft.ContainerService/managedClusters/aks-bitcoin-cluster",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "identity": {
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "delegatedResources": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "principalId": "ac2e6784-7352-4907-b2c1-77bdb91cc01d",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "tenantId": "d561d5ad-eb2c-4774-939b-1eaa998ffdcc",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "type": "SystemAssigned",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "userAssignedIdentities": null
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  },
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "identityProfile": {
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "kubeletidentity": {
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "clientId": "fe88e38f-426a-4444-845a-2560a829686e",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "objectId": "50d470a0-c540-46b3-8cb4-ebdb46856561",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "resourceId": "/subscriptions/0f31c15b-8b17-428a-8b56-7a902a2ec2d7/resourcegroups/MC_aks-bitcoin-rg_aks-bitcoin-cluster_eastus/providers/Microsoft.ManagedIdentity/userAssignedIdentities/aks-bitcoin-cluster-agentpool"
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    }
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  },
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "kubernetesVersion": "1.27.7",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "linuxProfile": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "location": "eastus",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "maxAgentPools": 100,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "name": "aks-bitcoin-cluster",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "networkProfile": {
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "dnsServiceIp": "10.0.0.10",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "ipFamilies": [
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "IPv4"
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    ],
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "loadBalancerProfile": {
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "allocatedOutboundPorts": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "backendPoolType": "nodeIPConfiguration",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "effectiveOutboundIPs": [
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m        {
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m          "id": "/subscriptions/0f31c15b-8b17-428a-8b56-7a902a2ec2d7/resourceGroups/MC_aks-bitcoin-rg_aks-bitcoin-cluster_eastus/providers/Microsoft.Network/publicIPAddresses/1942e33b-f317-42e1-966c-617ed01d891f",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m          "resourceGroup": "MC_aks-bitcoin-rg_aks-bitcoin-cluster_eastus"
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m        }
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      ],
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "enableMultipleStandardLoadBalancers": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "idleTimeoutInMinutes": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "managedOutboundIPs": {
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m        "count": 1,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m        "countIpv6": null
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      },
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "outboundIPs": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "outboundIpPrefixes": null
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    },
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "loadBalancerSku": "Standard",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "natGatewayProfile": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "networkDataplane": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "networkMode": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "networkPlugin": "kubenet",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "networkPluginMode": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "networkPolicy": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "outboundType": "loadBalancer",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "podCidr": "10.244.0.0/16",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "podCidrs": [
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "10.244.0.0/16"
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    ],
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "serviceCidr": "10.0.0.0/16",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "serviceCidrs": [
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "10.0.0.0/16"
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    ]
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  },
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "nodeResourceGroup": "MC_aks-bitcoin-rg_aks-bitcoin-cluster_eastus",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "oidcIssuerProfile": {
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "enabled": false,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "issuerUrl": null
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  },
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "podIdentityProfile": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "powerState": {
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "code": "Running"
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  },
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "privateFqdn": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "privateLinkResources": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "provisioningState": "Succeeded",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "publicNetworkAccess": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "resourceGroup": "aks-bitcoin-rg",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "resourceUid": "65b50f07e94d100001ff042e",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "securityProfile": {
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "azureKeyVaultKms": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "defender": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "imageCleaner": {
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "enabled": false,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "intervalHours": 48
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    },
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "workloadIdentity": null
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  },
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "serviceMeshProfile": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "servicePrincipalProfile": {
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "clientId": "msi",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "secret": null
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  },
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "sku": {
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "name": "Base",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "tier": "Free"
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  },
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "storageProfile": {
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "blobCsiDriver": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "diskCsiDriver": {
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "enabled": true
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    },
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "fileCsiDriver": {
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "enabled": true
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    },
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "snapshotController": {
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m      "enabled": true
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    }
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  },
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "supportPlan": "KubernetesOfficial",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "systemData": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "tags": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "type": "Microsoft.ContainerService/ManagedClusters",
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "upgradeSettings": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "windowsProfile": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  "workloadAutoScalerProfile": {
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "keda": null,
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m    "verticalPodAutoscaler": null
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m  }
[0m[1mnull_resource.aks_acr_attachment (local-exec):[0m [0m}
[0m[1mnull_resource.aks_acr_attachment: Creation complete after 2m29s [id=4060687411158364383][0m
[0m[1m[32m
Apply complete! Resources: 11 added, 0 changed, 0 destroyed.
[0m[0m[1m[32m
Outputs:

[0macr_login_server = "bitcoinregistry.azurecr.io"
acr_name = "bitcoinRegistry"
aks_cluster_id = "/subscriptions/0f31c15b-8b17-428a-8b56-7a902a2ec2d7/resourceGroups/aks-bitcoin-rg/providers/Microsoft.ContainerService/managedClusters/aks-bitcoin-cluster"
aks_cluster_name = "aks-bitcoin-cluster"
location = "eastus"
resource_group_id = "/subscriptions/0f31c15b-8b17-428a-8b56-7a902a2ec2d7/resourceGroups/aks-bitcoin-rg"
resource_group_name = "aks-bitcoin-rg"
